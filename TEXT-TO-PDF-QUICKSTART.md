# 文本转PDF - 快速开始指南 🚀

## 📦 一键启动

### 方式1：使用启动脚本（推荐）
```bash
start-text2pdf-service.bat
```

### 方式2：手动启动
```bash
cd server-python
python app_optimized.py
```

服务启动后访问：`http://localhost:8789`

---

## 🧪 快速测试

### 测试1：运行自动化测试
```bash
python test-text-to-pdf.py
```

### 测试2：手动API测试

**直接文本转换：**
```bash
curl -X POST http://localhost:8789/text/to-pdf \
  -d "text=这是测试文本" \
  -d "font_size=12" \
  -d "line_spacing=1.5"
```

**文件上传转换：**
```bash
curl -X POST http://localhost:8789/text/to-pdf \
  -F "file=@test.txt" \
  -F "font_size=14" \
  -F "line_spacing=1.8"
```

---

## 📱 小程序使用

### 1. 打开小程序
在微信开发者工具中打开项目：`pdf-to-png-converter`

### 2. 进入文本转PDF页面
首页 → **文字转PDF**

### 3. 两种使用方式

#### 方式A：直接输入文本
1. 点击 **"直接输入"** 标签
2. 在文本框中输入内容
3. 调整字体大小和行间距（可选）
4. 点击 **"开始转换"**
5. 转换完成后点击 **"下载PDF"**

#### 方式B：上传TXT文件
1. 点击 **"上传TXT"** 标签
2. 点击上传区域选择TXT文件
3. 调整字体大小和行间距（可选）
4. 点击 **"开始转换"**
5. 转换完成后点击 **"下载PDF"**

---

## ⚙️ 参数说明

| 参数 | 说明 | 范围 | 默认值 |
|------|------|------|--------|
| **字体大小** | 控制PDF中文字的大小 | 8-24号 | 12号 |
| **行间距** | 控制行与行之间的距离 | 1.0-3.0倍 | 1.5倍 |

**页边距（固定）：** 上下左右各 2.5厘米

---

## 📊 功能限制

| 项目 | 限制 |
|------|------|
| **最大文本大小** | 10 MB |
| **支持格式** | TXT纯文本文件 |
| **输出格式** | PDF（A4纸张） |
| **编码支持** | UTF-8, GBK, GB2312, UTF-16 |

---

## 🎯 使用示例

### 示例1：简单文本
```
这是一段简单的测试文本。
支持中文和English混合。
自动换行和分页。
```

### 示例2：多段落文本
```
第一段内容
这是第一段的文字，会自动换行。

第二段内容
段落之间有空行。

第三段内容
继续添加更多内容...
```

### 示例3：长文本
上传包含数千字的TXT文件，系统会自动分页处理。

---

## 📈 性能预期

| 文本大小 | 转换时间 | 输出页数 |
|----------|----------|----------|
| 500字符 | < 0.3秒 | 1页 |
| 2000字符 | < 1秒 | 2-3页 |
| 5000字符 | 1-2秒 | 5-6页 |
| 10000字符 | 2-4秒 | 10-12页 |

**注：** 实际性能取决于服务器配置和网络状况

---

## 🔧 常见问题

### Q1: 中文显示乱码怎么办？
**A:** 确保TXT文件使用UTF-8编码保存，或使用Windows记事本另存为UTF-8格式。

### Q2: 转换速度慢怎么办？
**A:** 
- 减少单次转换的文本量
- 检查网络连接
- 确保服务器运行正常

### Q3: 如何调整PDF样式？
**A:** 使用滑块调整：
- 字体大小：8-24号
- 行间距：1.0-3.0倍

### Q4: 支持哪些文件格式？
**A:** 目前仅支持 `.txt` 纯文本文件。

### Q5: 如何保存生成的PDF？
**A:** 转换成功后，点击"下载PDF"按钮即可保存到本地。

---

## 🎨 界面说明

### 输入模式切换
- **直接输入**：蓝色高亮显示当前激活
- **上传TXT**：灰色背景为未激活

### 文本输入区
- 显示实时字符计数
- 支持多行输入
- 自动高度调整

### 文件上传区
- 虚线边框的上传区域
- 显示已选文件名和大小
- 可点击 ✕ 移除文件

### 参数设置
- 滑块控件，实时显示数值
- 拖动调整，松开生效

### 转换结果
- 绿色背景显示成功
- 详细信息：页数、字符数、大小、耗时
- 蓝色下载按钮

---

## 📞 技术支持

**文档：**
- 详细说明：`TEXT-TO-PDF-README.md`
- API文档：查看后端代码注释

**测试脚本：**
- 功能测试：`test-text-to-pdf.py`
- 安装脚本：`install-reportlab.bat`

**后端接口：**
- 服务地址：`http://localhost:8789`
- 转换接口：`POST /text/to-pdf`
- 下载接口：`GET /download/<filename>`

---

## ✅ 功能检查清单

使用前请确认：

- [ ] Python服务已启动（端口8789）
- [ ] ReportLab已安装（≥4.0.0）
- [ ] 小程序配置正确（serverUrl指向8789端口）
- [ ] 系统已安装中文字体

---

## 🎉 开始使用

1. 运行 `start-text2pdf-service.bat` 启动服务
2. 打开微信开发者工具
3. 进入小程序首页
4. 点击"文字转PDF"
5. 开始转换！

**祝您使用愉快！** 🚀

